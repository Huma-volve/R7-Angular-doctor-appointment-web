<section
  class="form-container d-flex justify-content-center justify-content-xl-start g-2 ms-xl-5 ps-xl-5 mt-xl-5"
>
  <main class="d-flex align-items-center justify-content-center flex-column">
    <div class="header text-center">
      <h1 class="h2">Sign up</h1>
      <p class="text-muted">Please provide all information required to create your account</p>
    </div>
    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="overflow-hidden p-2">
      <!-- Email and Password ,Phone Number -->
      <div class="form-controls w-100">
        <div class="form-input mb-1">
          <label class="d-block p-1">Full Name</label>
          <input
            formControlName="name"
            class="w-100 border rounded p-2"
            type="text"
            name="name"
            placeholder="Full Name"
          />

          <!-- Validation Messages -->
          <div class="validation-messages">
            @if(form.get('name')?.touched){ @if(form.get('name')?.hasError('required')){
            <span class="text-danger">Your name is required</span>
            } @else if (form.get('name')?.hasError('pattern')) {
            <span class="text-danger">Must contain only characters (9–25 char).</span>
            } @if(form.get('name')?.hasError('name')){
            <span class="text-danger">name is not valid</span>
            } }
          </div>
          <!-- Validation Messages/-->
        </div>
        <div class="form-input">
          <label class="d-block p-1">Email</label>
          <input
            formControlName="email"
            class="w-100 border rounded p-2"
            type="email"
            name="email"
            placeholder="Email"
          />

          <!-- Validation Messages -->
          <div class="validation-messages">
            @if (form.get('email')?.touched){ @if(form.get('email')?.hasError('required')){
            <span class="text-danger">Your email is required </span>
            }@else if(form.get('email')?.hasError('email')){
            <span class="text-danger">Email is not valid</span>
            } }
          </div>
          <!-- Validation Messages/-->
        </div>

        <div class="form-controls w-100 mb-0">
          <label class="d-block p-1">Phone Number</label>
          <div
            class="form-input mb-2 border rounded d-flex justify-content-center align-items-center"
          >
            <div class="dropdown">
              <button
                class="btn dropdown-toggle d-flex align-items-center gap-2"
                type="button"
                id="dropdownMenuButton"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <img
                  [src]="selectedCountry.flag"
                  [alt]="selectedCountry.name + ' Flag'"
                  width="25"
                  height="20"
                />
                <span>{{ selectedCountry.code }}</span>
              </button>

              <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <li
                  *ngFor="let country of countries"
                  (click)="selectCountry(country)"
                  [class.active]="country === selectedCountry"
                >
                  <a class="dropdown-item d-flex align-items-center gap-2">
                    <img [src]="country.flag" width="25" height="20" />
                    <span>{{ country.code }}</span>
                  </a>
                </li>
              </ul>
            </div>
            <input
              formControlName="phone"
              class="w-100 border-0 rounded p-2"
              type="text"
              name="phone"
              placeholder="Enter your number"
            />
          </div>
          <!-- Validation Messages -->
          <div class="validation-messages py-1">
            @if(form.get('phone')?.touched){ @if(form.get('phone')?.hasError('required')){
            <span class="text-danger">Your phone is required</span>
            }@else if (form.get('phone')?.hasError('phone')){
            <span class="text-danger">phone is not valid</span>
            }@else if (form.get('phone')?.hasError('pattern')) {
            <span class="text-danger">Must contain only digits (10–15 numbers). </span>
            } }
          </div>
          <!-- Validation Messages/-->
        </div>
        <div class="form-button mb-2">
          <!-- <a
          class="btn btn-primary border w-100 d-flex align-items-center justify-content-center gap-2"
        >
          Sign up</a
        > -->
          <button
            class="btn btn-primary border w-100"
            [disabled]="form.invalid"
            [class.invalid]="form.invalid"
          >
            Sign up
          </button>
        </div>
      </div>
      <!-- Full Name and Email, Phone Number/-->

      <!-- Divider -->
      <div class="d-flex align-items-center mb-2 w-100">
        <hr class="flex-grow-1" />
        <span class="px-2 text-muted">or</span>
        <hr class="flex-grow-1" />
      </div>
      <!-- Divider/-->

      <!-- Google Sign-In -->
      <div class="google-auth w-100">
        <button
          type="button"
          class="btn btn-light border w-100 d-flex align-items-center justify-content-center gap-2 mb-3"
        >
          <img src="https://www.svgrepo.com/show/355037/google.svg" alt="Google" width="20" />
          Sign in with Google
        </button>
        <p class="text-muted text-center">
          Already have an account?
          <a routerLink="../sign-in" class="text-primary text-decoration-none">Sign in</a>
        </p>
      </div>
      <!-- Google Sign-In/-->
    </form>
  </main>
</section>
